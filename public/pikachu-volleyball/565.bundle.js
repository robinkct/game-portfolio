/*! For license information please see 565.bundle.js.LICENSE.txt */
"use strict";(self.webpackChunkpikachu_volleyball=self.webpackChunkpikachu_volleyball||[]).push([[565],{229:(t,e,i)=>{var r=i(449);r.mc.prototype._renderCanvas=function(t){},r.mc.prototype.renderCanvas=function(t){if(this.visible&&!(this.worldAlpha<=0)&&this.renderable){this._mask&&t.maskManager.pushMask(this._mask),this._renderCanvas(t);for(var e=0,i=this.children.length;e<i;++e)this.children[e].renderCanvas(t);this._mask&&t.maskManager.popMask(t)}},r.q9.prototype.renderCanvas=function(t){}},505:(t,e,i)=>{i.d(e,{S:()=>a});var r=i(592),n=i(650),o=function(t,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},o(t,e)};function s(t,e){var i=t;if(e instanceof r.t5){var n=e.source,o=0===n.width?i.canvas.width:Math.min(i.canvas.width,n.width),s=0===n.height?i.canvas.height:Math.min(i.canvas.height,n.height);return i.ctx.drawImage(n,0,0,o,s,0,0,i.canvas.width,i.canvas.height),!0}return!1}var a=function(t){function e(e){var i=t.call(this,e)||this;return i.uploadHookHelper=i,i.canvas=document.createElement("canvas"),i.canvas.width=16,i.canvas.height=16,i.ctx=i.canvas.getContext("2d"),i.registerUploadHook(s),i}return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}(e,t),e.prototype.destroy=function(){t.prototype.destroy.call(this),this.ctx=null,this.canvas=null},e}(n.Ls)},77:(t,e,i)=>{i.d(e,{KB:()=>d,kE:()=>f});var r=i(592),n=i(699),o=i(185),s=i(787),a=i(337),h=function(t,e){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},h(t,e)},l=function(){function t(t){this._foundShapes=[],this.renderer=t}return t.prototype.pushMask=function(t){var e=this.renderer,i=t.maskObject||t;e.context.save();var r=this._foundShapes;if(this.recursiveFindShapes(i,r),r.length>0){var n=e.context;n.beginPath();for(var o=0;o<r.length;o++){var s=r[o],a=s.transform.worldTransform;this.renderer.setContextTransform(a),this.renderGraphicsShape(s)}r.length=0,n.clip()}},t.prototype.recursiveFindShapes=function(t,e){t.geometry&&t.geometry.graphicsData&&e.push(t);var i=t.children;if(i)for(var r=0;r<i.length;r++)this.recursiveFindShapes(i[r],e)},t.prototype.renderGraphicsShape=function(t){t.finishPoly();var e=this.renderer.context,i=t.geometry.graphicsData,r=i.length;if(0!==r)for(var n=0;n<r;n++){var s=i[n],a=s.shape;if(a.type===o.HY.POLY){var h=a.points,l=s.holes,u=void 0,c=void 0,p=void 0,d=void 0;e.moveTo(h[0],h[1]);for(var f=1;f<h.length/2;f++)e.lineTo(h[2*f],h[2*f+1]);if(l.length>0){for(u=0,p=h[0],d=h[1],f=2;f+2<h.length;f+=2)u+=(h[f]-p)*(h[f+3]-d)-(h[f+2]-p)*(h[f+1]-d);for(var g=0;g<l.length;g++)if(h=l[g].shape.points){for(c=0,p=h[0],d=h[1],f=2;f+2<h.length;f+=2)c+=(h[f]-p)*(h[f+3]-d)-(h[f+2]-p)*(h[f+1]-d);if(c*u<0)for(e.moveTo(h[0],h[1]),f=2;f<h.length;f+=2)e.lineTo(h[f],h[f+1]);else for(e.moveTo(h[h.length-2],h[h.length-1]),f=h.length-4;f>=0;f-=2)e.lineTo(h[f],h[f+1]);l[g].shape.closeStroke&&e.closePath()}}h[0]===h[h.length-2]&&h[1]===h[h.length-1]&&e.closePath()}else if(a.type===o.HY.RECT)e.rect(a.x,a.y,a.width,a.height),e.closePath();else if(a.type===o.HY.CIRC)e.arc(a.x,a.y,a.radius,0,2*Math.PI),e.closePath();else if(a.type===o.HY.ELIP){var y=2*a.width,v=2*a.height,m=a.x-y/2,_=a.y-v/2,b=.5522848,x=y/2*b,w=v/2*b,S=m+y,T=_+v,M=m+y/2,P=_+v/2;e.moveTo(m,P),e.bezierCurveTo(m,P-w,M-x,_,M,_),e.bezierCurveTo(M+x,_,S,P-w,S,P),e.bezierCurveTo(S,P+w,M+x,T,M,T),e.bezierCurveTo(M-x,T,m,P+w,m,P),e.closePath()}else if(a.type===o.HY.RREC){var I=a.x,C=a.y,O=a.width,A=a.height,B=a.radius,D=Math.min(O,A)/2;B=B>D?D:B,e.moveTo(I,C+B),e.lineTo(I,C+A-B),e.quadraticCurveTo(I,C+A,I+B,C+A),e.lineTo(I+O-B,C+A),e.quadraticCurveTo(I+O,C+A,I+O,C+A-B),e.lineTo(I+O,C+B),e.quadraticCurveTo(I+O,C,I+O-B,C),e.lineTo(I+B,C),e.quadraticCurveTo(I,C,I,C+B),e.closePath()}}},t.prototype.popMask=function(t){t.context.restore(),t.invalidateBlendMode()},t.prototype.destroy=function(){},t}();function u(t){var e=document.createElement("canvas");e.width=6,e.height=1;var i=e.getContext("2d");return i.fillStyle=t,i.fillRect(0,0,6,1),e}function c(){if("undefined"==typeof document)return!1;var t=u("#ff00ff"),e=u("#ffff00"),i=document.createElement("canvas");i.width=6,i.height=1;var r=i.getContext("2d");r.globalCompositeOperation="multiply",r.drawImage(t,0,0),r.drawImage(e,2,0);var n=r.getImageData(2,0,1,1);if(!n)return!1;var o=n.data;return 255===o[0]&&0===o[1]&&0===o[2]}var p=new o.uq,d=function(t){function e(i){var r,o=t.call(this,s.h3.CANVAS,i)||this;if(o.refresh=!0,o.maskManager=new l(o),o.smoothProperty="imageSmoothingEnabled",o.blendModes=(void 0===r&&(r=[]),c()?(r[s.B9.NORMAL]="source-over",r[s.B9.ADD]="lighter",r[s.B9.MULTIPLY]="multiply",r[s.B9.SCREEN]="screen",r[s.B9.OVERLAY]="overlay",r[s.B9.DARKEN]="darken",r[s.B9.LIGHTEN]="lighten",r[s.B9.COLOR_DODGE]="color-dodge",r[s.B9.COLOR_BURN]="color-burn",r[s.B9.HARD_LIGHT]="hard-light",r[s.B9.SOFT_LIGHT]="soft-light",r[s.B9.DIFFERENCE]="difference",r[s.B9.EXCLUSION]="exclusion",r[s.B9.HUE]="hue",r[s.B9.SATURATION]="saturate",r[s.B9.COLOR]="color",r[s.B9.LUMINOSITY]="luminosity"):(r[s.B9.NORMAL]="source-over",r[s.B9.ADD]="lighter",r[s.B9.MULTIPLY]="source-over",r[s.B9.SCREEN]="source-over",r[s.B9.OVERLAY]="source-over",r[s.B9.DARKEN]="source-over",r[s.B9.LIGHTEN]="source-over",r[s.B9.COLOR_DODGE]="source-over",r[s.B9.COLOR_BURN]="source-over",r[s.B9.HARD_LIGHT]="source-over",r[s.B9.SOFT_LIGHT]="source-over",r[s.B9.DIFFERENCE]="source-over",r[s.B9.EXCLUSION]="source-over",r[s.B9.HUE]="source-over",r[s.B9.SATURATION]="source-over",r[s.B9.COLOR]="source-over",r[s.B9.LUMINOSITY]="source-over"),r[s.B9.NORMAL_NPM]=r[s.B9.NORMAL],r[s.B9.ADD_NPM]=r[s.B9.ADD],r[s.B9.SCREEN_NPM]=r[s.B9.SCREEN],r[s.B9.SRC_IN]="source-in",r[s.B9.SRC_OUT]="source-out",r[s.B9.SRC_ATOP]="source-atop",r[s.B9.DST_OVER]="destination-over",r[s.B9.DST_IN]="destination-in",r[s.B9.DST_OUT]="destination-out",r[s.B9.DST_ATOP]="destination-atop",r[s.B9.XOR]="xor",r[s.B9.SUBTRACT]="source-over",r),o.renderingToScreen=!1,o._activeBlendMode=null,o._projTransform=null,o._outerBlend=!1,o.rootContext=o.view.getContext("2d",{alpha:o.useContextAlpha}),o.context=o.rootContext,!o.rootContext.imageSmoothingEnabled){var a=o.rootContext;a.webkitImageSmoothingEnabled?o.smoothProperty="webkitImageSmoothingEnabled":a.mozImageSmoothingEnabled?o.smoothProperty="mozImageSmoothingEnabled":a.oImageSmoothingEnabled?o.smoothProperty="oImageSmoothingEnabled":a.msImageSmoothingEnabled&&(o.smoothProperty="msImageSmoothingEnabled")}return o.initPlugins(e.__plugins),(0,n.eE)("Canvas"),o.resize(o.options.width,o.options.height),o}return function(t,e){function i(){this.constructor=t}h(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}(e,t),e.prototype.addSystem=function(){return this},e.prototype.render=function(t,e){if(this.view){var i,o,a,h;e&&(e instanceof r.Y7||e instanceof r.LE?((0,n.t6)("6.0.0","CanvasRenderer#render arguments changed, use options instead."),i=e,o=arguments[2],a=arguments[3],h=arguments[4]):(i=e.renderTexture,o=e.clear,a=e.transform,h=e.skipUpdateTransform)),this.renderingToScreen=!i,this.emit("prerender");var l=this.resolution;i?((i=i.castToBaseTexture())._canvasRenderTarget||(i._canvasRenderTarget=new n.S0(i.width,i.height,i.resolution),i.resource=new r.Bu(i._canvasRenderTarget.canvas),i.valid=!0),this.context=i._canvasRenderTarget.context,this.resolution=i._canvasRenderTarget.resolution):this.context=this.rootContext;var u=this.context;if(this._projTransform=a||null,i||(this._lastObjectRendered=t),!h){var c=t.enableTempParent();t.updateTransform(),t.disableTempParent(c)}if(u.save(),u.setTransform(1,0,0,1,0,0),u.globalAlpha=1,this._activeBlendMode=s.B9.NORMAL,this._outerBlend=!1,u.globalCompositeOperation=this.blendModes[s.B9.NORMAL],void 0!==o?o:this.clearBeforeRender)if(this.renderingToScreen)u.clearRect(0,0,this.width,this.height),this.backgroundAlpha>0&&(u.globalAlpha=this.useContextAlpha?this.backgroundAlpha:1,u.fillStyle=this._backgroundColorString,u.fillRect(0,0,this.width,this.height),u.globalAlpha=1);else{i._canvasRenderTarget.clear();var p=i.clearColor;p[3]>0&&(u.globalAlpha=this.useContextAlpha?p[3]:1,u.fillStyle=(0,n.PF)((0,n.v2)(p)),u.fillRect(0,0,i.realWidth,i.realHeight),u.globalAlpha=1)}var d=this.context;this.context=u,t.renderCanvas(this),this.context=d,u.restore(),this.resolution=l,this._projTransform=null,this.emit("postrender")}},e.prototype.setContextTransform=function(t,e,i){var r=t,n=this._projTransform,o=this.resolution;i=i||o,n&&((r=p).copyFrom(t),r.prepend(n)),e?this.context.setTransform(r.a*i,r.b*i,r.c*i,r.d*i,r.tx*o|0,r.ty*o|0):this.context.setTransform(r.a*i,r.b*i,r.c*i,r.d*i,r.tx*o,r.ty*o)},e.prototype.clear=function(t,e){void 0===t&&(t=this._backgroundColorString),void 0===e&&(e=this.backgroundAlpha);var i=this.context;i.clearRect(0,0,this.width,this.height),t&&(i.globalAlpha=this.useContextAlpha?e:1,i.fillStyle=t,i.fillRect(0,0,this.width,this.height),i.globalAlpha=1)},e.prototype.setBlendMode=function(t,e){var i=t===s.B9.SRC_IN||t===s.B9.SRC_OUT||t===s.B9.DST_IN||t===s.B9.DST_ATOP;!e&&i&&(t=s.B9.NORMAL),this._activeBlendMode!==t&&(this._activeBlendMode=t,this._outerBlend=i,this.context.globalCompositeOperation=this.blendModes[t])},e.prototype.destroy=function(e){t.prototype.destroy.call(this,e),this.context=null,this.refresh=!0,this.maskManager.destroy(),this.maskManager=null,this.smoothProperty=null},e.prototype.resize=function(e,i){t.prototype.resize.call(this,e,i),this.smoothProperty&&(this.rootContext[this.smoothProperty]=a.W.SCALE_MODE===s.M6.LINEAR)},e.prototype.invalidateBlendMode=function(){this._activeBlendMode=this.blendModes.indexOf(this.context.globalCompositeOperation)},e.registerPlugin=function(t,i){e.__plugins=e.__plugins||{},e.__plugins[t]=i},e}(r.kp),f={canvas:null,getTintedCanvas:function(t,e){var i=t.texture,r="#"+("00000"+(0|(e=f.roundColor(e))).toString(16)).slice(-6);i.tintCache=i.tintCache||{};var n,o=i.tintCache[r];if(o){if(o.tintId===i._updateID)return i.tintCache[r];n=i.tintCache[r]}else n=document.createElement("canvas");if(f.tintMethod(i,e,n),n.tintId=i._updateID,f.convertTintToImage){var s=new Image;s.src=n.toDataURL(),i.tintCache[r]=s}else i.tintCache[r]=n;return n},getTintedPattern:function(t,e){var i="#"+("00000"+(0|(e=f.roundColor(e))).toString(16)).slice(-6);t.patternCache=t.patternCache||{};var r=t.patternCache[i];return r&&r.tintId===t._updateID||(f.canvas||(f.canvas=document.createElement("canvas")),f.tintMethod(t,e,f.canvas),(r=f.canvas.getContext("2d").createPattern(f.canvas,"repeat")).tintId=t._updateID,t.patternCache[i]=r),r},tintWithMultiply:function(t,e,i){var r=i.getContext("2d"),n=t._frame.clone(),o=t.baseTexture.resolution;n.x*=o,n.y*=o,n.width*=o,n.height*=o,i.width=Math.ceil(n.width),i.height=Math.ceil(n.height),r.save(),r.fillStyle="#"+("00000"+(0|e).toString(16)).slice(-6),r.fillRect(0,0,n.width,n.height),r.globalCompositeOperation="multiply";var s=t.baseTexture.getDrawableSource();r.drawImage(s,n.x,n.y,n.width,n.height,0,0,n.width,n.height),r.globalCompositeOperation="destination-atop",r.drawImage(s,n.x,n.y,n.width,n.height,0,0,n.width,n.height),r.restore()},tintWithOverlay:function(t,e,i){var r=i.getContext("2d"),n=t._frame.clone(),o=t.baseTexture.resolution;n.x*=o,n.y*=o,n.width*=o,n.height*=o,i.width=Math.ceil(n.width),i.height=Math.ceil(n.height),r.save(),r.globalCompositeOperation="copy",r.fillStyle="#"+("00000"+(0|e).toString(16)).slice(-6),r.fillRect(0,0,n.width,n.height),r.globalCompositeOperation="destination-atop",r.drawImage(t.baseTexture.getDrawableSource(),n.x,n.y,n.width,n.height,0,0,n.width,n.height),r.restore()},tintWithPerPixel:function(t,e,i){var r=i.getContext("2d"),o=t._frame.clone(),s=t.baseTexture.resolution;o.x*=s,o.y*=s,o.width*=s,o.height*=s,i.width=Math.ceil(o.width),i.height=Math.ceil(o.height),r.save(),r.globalCompositeOperation="copy",r.drawImage(t.baseTexture.getDrawableSource(),o.x,o.y,o.width,o.height,0,0,o.width,o.height),r.restore();for(var a=(0,n.xp)(e),h=a[0],l=a[1],u=a[2],c=r.getImageData(0,0,o.width,o.height),p=c.data,d=0;d<p.length;d+=4)p[d+0]*=h,p[d+1]*=l,p[d+2]*=u;r.putImageData(c,0,0)},roundColor:function(t){var e=f.cacheStepsPerColorChannel,i=(0,n.xp)(t);return i[0]=Math.min(255,i[0]/e*e),i[1]=Math.min(255,i[1]/e*e),i[2]=Math.min(255,i[2]/e*e),(0,n.v2)(i)},cacheStepsPerColorChannel:8,convertTintToImage:!1,canUseMultiply:c(),tintMethod:null};f.tintMethod=f.canUseMultiply?f.tintWithMultiply:f.tintWithPerPixel;var g=r.A4.create;r.A4.create=function(t){if(!t||!t.forceCanvas)try{return g(t)}catch(t){}return new d(t)},r.t5.prototype.getDrawableSource=function(){var t=this.resource;return t?t.bitmap||t.source:null},r.LE.prototype._canvasRenderTarget=null,r.gP.prototype.patternCache=null,r.gP.prototype.tintCache=null},697:(t,e,i)=>{i.d(e,{$:()=>h});var r=i(787),n=i(185),o=i(77),s=i(153),a=new n.uq,h=function(){function t(t){this.renderer=t}return t.prototype.render=function(t){var e=t._texture,i=this.renderer,s=i.context;if(e.valid){var h=e._frame.width,l=e._frame.height,u=t.transform.worldTransform,c=0,p=0,d=e.baseTexture.getDrawableSource();if(!(e.orig.width<=0||e.orig.height<=0)&&e.valid&&d){i.setBlendMode(t.blendMode,!0),i.context.globalAlpha=t.worldAlpha;var f=e.baseTexture.scaleMode===r.M6.LINEAR;i.smoothProperty&&i.context[i.smoothProperty]!==f&&(s[i.smoothProperty]=f),e.trim?(c=e.trim.width/2+e.trim.x-t.anchor.x*e.orig.width,p=e.trim.height/2+e.trim.y-t.anchor.y*e.orig.height):(c=(.5-t.anchor.x)*e.orig.width,p=(.5-t.anchor.y)*e.orig.height),e.rotate&&(u.copyTo(a),u=a,n.ER.matrixAppendRotationInv(u,e.rotate,c,p),c=0,p=0),c-=h/2,p-=l/2,i.setContextTransform(u,t.roundPixels,1),t.roundPixels&&(c|=0,p|=0);var g=e.baseTexture.resolution,y=i._outerBlend;y&&(s.save(),s.beginPath(),s.rect(c*i.resolution,p*i.resolution,h*i.resolution,l*i.resolution),s.clip()),16777215!==t.tint?(t._cachedTint===t.tint&&t._tintedCanvas.tintId===t._texture._updateID||(t._cachedTint=t.tint,t._tintedCanvas=o.kE.getTintedCanvas(t,t.tint)),s.drawImage(t._tintedCanvas,0,0,Math.floor(h*g),Math.floor(l*g),Math.floor(c*i.resolution),Math.floor(p*i.resolution),Math.floor(h*i.resolution),Math.floor(l*i.resolution))):s.drawImage(d,e._frame.x*g,e._frame.y*g,Math.floor(h*g),Math.floor(l*g),Math.floor(c*i.resolution),Math.floor(p*i.resolution),Math.floor(h*i.resolution),Math.floor(l*i.resolution)),y&&s.restore(),i.setBlendMode(r.B9.NORMAL)}}},t.prototype.destroy=function(){this.renderer=null},t}();s.k.prototype._tintedCanvas=null,s.k.prototype._renderCanvas=function(t){t.plugins.sprite.render(this)}},650:(t,e,i)=>{i.d(e,{Ls:()=>ht,p8:()=>pt});var r,n,o=i(337),s=i(592),a=i(185),h=i(699),l=i(787),u=i(449);!function(t){t.MITER="miter",t.BEVEL="bevel",t.ROUND="round"}(r||(r={})),function(t){t.BUTT="butt",t.ROUND="round",t.SQUARE="square"}(n||(n={}));var c={adaptive:!0,maxLength:10,minSegments:8,maxSegments:2048,epsilon:1e-4,_segmentsCount:function(t,e){if(void 0===e&&(e=20),!this.adaptive||!t||isNaN(t))return e;var i=Math.ceil(t/this.maxLength);return i<this.minSegments?i=this.minSegments:i>this.maxSegments&&(i=this.maxSegments),i}},p=function(){function t(){this.color=16777215,this.alpha=1,this.texture=s.gP.WHITE,this.matrix=null,this.visible=!1,this.reset()}return t.prototype.clone=function(){var e=new t;return e.color=this.color,e.alpha=this.alpha,e.texture=this.texture,e.matrix=this.matrix,e.visible=this.visible,e},t.prototype.reset=function(){this.color=16777215,this.alpha=1,this.texture=s.gP.WHITE,this.matrix=null,this.visible=!1},t.prototype.destroy=function(){this.texture=null,this.matrix=null},t}(),d=function(t,e){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},d(t,e)};function f(t,e){function i(){this.constructor=t}d(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}function g(t,e){var i,r;void 0===e&&(e=!1);var n=t.length;if(!(n<6)){for(var o=0,s=0,a=t[n-2],h=t[n-1];s<n;s+=2){var l=t[s],u=t[s+1];o+=(l-a)*(u+h),a=l,h=u}if(!e&&o>0||e&&o<=0){var c=n/2;for(s=c+c%2;s<n;s+=2){var p=n-s-2,d=n-s-1,f=s,g=s+1;i=[t[f],t[p]],t[p]=i[0],t[f]=i[1],r=[t[g],t[d]],t[d]=r[0],t[g]=r[1]}}}}var y={build:function(t){t.points=t.shape.points.slice()},triangulate:function(t,e){var i=t.points,r=t.holes,n=e.points,o=e.indices;if(i.length>=6){g(i,!1);for(var s=[],a=0;a<r.length;a++){var l=r[a];g(l.points,!0),s.push(i.length/2),i=i.concat(l.points)}var u=(0,h.hY)(i,s,2);if(!u)return;var c=n.length/2;for(a=0;a<u.length;a+=3)o.push(u[a]+c),o.push(u[a+1]+c),o.push(u[a+2]+c);for(a=0;a<i.length;a++)n.push(i[a])}}},v={build:function(t){var e,i,r,n,o,s,h=t.points;if(t.type===a.HY.CIRC){var l=t.shape;e=l.x,i=l.y,o=s=l.radius,r=n=0}else if(t.type===a.HY.ELIP){var u=t.shape;e=u.x,i=u.y,o=u.width,s=u.height,r=n=0}else{var c=t.shape,p=c.width/2,d=c.height/2;e=c.x+p,i=c.y+d,r=p-(o=s=Math.max(0,Math.min(c.radius,Math.min(p,d)))),n=d-s}if(o>=0&&s>=0&&r>=0&&n>=0){var f=Math.ceil(2.3*Math.sqrt(o+s)),g=8*f+(r?4:0)+(n?4:0);if(h.length=g,0!==g){if(0===f)return h.length=8,h[0]=h[6]=e+r,h[1]=h[3]=i+n,h[2]=h[4]=e-r,void(h[5]=h[7]=i-n);var y,v,m=0,_=4*f+(r?2:0)+2,b=_,x=g,w=e+(y=r+o),S=e-y,T=i+(v=n);if(h[m++]=w,h[m++]=T,h[--_]=T,h[--_]=S,n){var M=i-v;h[b++]=S,h[b++]=M,h[--x]=M,h[--x]=w}for(var P=1;P<f;P++){var I=Math.PI/2*(P/f);w=e+(y=r+Math.cos(I)*o),S=e-y,T=i+(v=n+Math.sin(I)*s),M=i-v,h[m++]=w,h[m++]=T,h[--_]=T,h[--_]=S,h[b++]=S,h[b++]=M,h[--x]=M,h[--x]=w}w=e+(y=r),S=e-y,T=i+(v=n+s),M=i-v,h[m++]=w,h[m++]=T,h[--x]=M,h[--x]=w,r&&(h[m++]=S,h[m++]=T,h[--x]=M,h[--x]=S)}}else h.length=0},triangulate:function(t,e){var i,r,n=t.points,o=e.points,s=e.indices,h=o.length/2,l=h;if(t.type!==a.HY.RREC){var u=t.shape;i=u.x,r=u.y}else{var c=t.shape;i=c.x+c.width/2,r=c.y+c.height/2}var p=t.matrix;o.push(t.matrix?p.a*i+p.c*r+p.tx:i,t.matrix?p.b*i+p.d*r+p.ty:r),h++,o.push(n[0],n[1]);for(var d=2;d<n.length;d+=2)o.push(n[d],n[d+1]),s.push(h++,l,h);s.push(l+1,l,h)}};function m(t,e,i){return t+(e-t)*i}function _(t,e,i,r,n,o,s){void 0===s&&(s=[]);for(var a=s,h=0,l=0,u=0,c=0,p=0,d=0,f=0,g=0;f<=20;++f)h=m(t,i,g=f/20),l=m(e,r,g),u=m(i,n,g),c=m(r,o,g),p=m(h,u,g),d=m(l,c,g),0===f&&a[a.length-2]===p&&a[a.length-1]===d||a.push(p,d);return a}var b={build:function(t){if(U.nextRoundedRectBehavior)v.build(t);else{var e=t.shape,i=t.points,r=e.x,n=e.y,o=e.width,s=e.height,a=Math.max(0,Math.min(e.radius,Math.min(o,s)/2));i.length=0,a?(_(r,n+a,r,n,r+a,n,i),_(r+o-a,n,r+o,n,r+o,n+a,i),_(r+o,n+s-a,r+o,n+s,r+o-a,n+s,i),_(r+a,n+s,r,n+s,r,n+s-a,i)):i.push(r,n,r+o,n,r+o,n+s,r,n+s)}},triangulate:function(t,e){if(U.nextRoundedRectBehavior)v.triangulate(t,e);else{for(var i=t.points,r=e.points,n=e.indices,o=r.length/2,s=(0,h.hY)(i,null,2),a=0,l=s.length;a<l;a+=3)n.push(s[a]+o),n.push(s[a+1]+o),n.push(s[a+2]+o);for(a=0,l=i.length;a<l;a++)r.push(i[a],i[++a])}}};function x(t,e,i,r,n,o,s,a){var h,l;s?(h=r,l=-i):(h=-r,l=i);var u=t-i*n+h,c=e-r*n+l,p=t+i*o+h,d=e+r*o+l;return a.push(u,c),a.push(p,d),2}function w(t,e,i,r,n,o,s,a){var h=i-t,l=r-e,u=Math.atan2(h,l),c=Math.atan2(n-t,o-e);a&&u<c?u+=2*Math.PI:!a&&u>c&&(c+=2*Math.PI);var p=u,d=c-u,f=Math.abs(d),g=Math.sqrt(h*h+l*l),y=1+(15*f*Math.sqrt(g)/Math.PI|0),v=d/y;if(p+=v,a){s.push(t,e),s.push(i,r);for(var m=1,_=p;m<y;m++,_+=v)s.push(t,e),s.push(t+Math.sin(_)*g,e+Math.cos(_)*g);s.push(t,e),s.push(n,o)}else{for(s.push(i,r),s.push(t,e),m=1,_=p;m<y;m++,_+=v)s.push(t+Math.sin(_)*g,e+Math.cos(_)*g),s.push(t,e);s.push(n,o),s.push(t,e)}return 2*y}function S(t,e){t.lineStyle.native?function(t,e){var i=0,r=t.shape,n=t.points||r.points,o=r.type!==a.HY.POLY||r.closeStroke;if(0!==n.length){var s=e.points,h=e.indices,l=n.length/2,u=s.length/2,c=u;for(s.push(n[0],n[1]),i=1;i<l;i++)s.push(n[2*i],n[2*i+1]),h.push(c,c+1),c++;o&&h.push(c,u)}}(t,e):function(t,e){var i=t.shape,o=t.points||i.points.slice(),s=e.closePointEps;if(0!==o.length){var h=t.lineStyle,l=new a.bR(o[0],o[1]),u=new a.bR(o[o.length-2],o[o.length-1]),p=i.type!==a.HY.POLY||i.closeStroke,d=Math.abs(l.x-u.x)<s&&Math.abs(l.y-u.y)<s;if(p){o=o.slice(),d&&(o.pop(),o.pop(),u.set(o[o.length-2],o[o.length-1]));var f=.5*(l.x+u.x),g=.5*(u.y+l.y);o.unshift(f,g),o.push(f,g)}var y=e.points,v=o.length/2,m=o.length,_=y.length/2,b=h.width/2,S=b*b,T=h.miterLimit*h.miterLimit,M=o[0],P=o[1],I=o[2],C=o[3],O=0,A=0,B=-(P-C),D=M-I,k=0,R=0,E=Math.sqrt(B*B+D*D);B/=E,D/=E,B*=b,D*=b;var L=h.alignment,H=2*(1-L),N=2*L;p||(h.cap===n.ROUND?m+=w(M-B*(H-N)*.5,P-D*(H-N)*.5,M-B*H,P-D*H,M+B*N,P+D*N,y,!0)+2:h.cap===n.SQUARE&&(m+=x(M,P,B,D,H,N,!0,y))),y.push(M-B*H,P-D*H),y.push(M+B*N,P+D*N);for(var j=1;j<v-1;++j){M=o[2*(j-1)],P=o[2*(j-1)+1],I=o[2*j],C=o[2*j+1],O=o[2*(j+1)],A=o[2*(j+1)+1],B=-(P-C),D=M-I,B/=E=Math.sqrt(B*B+D*D),D/=E,B*=b,D*=b,k=-(C-A),R=I-O,k/=E=Math.sqrt(k*k+R*R),R/=E,k*=b,R*=b;var U=I-M,F=P-C,W=I-O,z=A-C,Y=F*W-z*U,q=Y<0;if(Math.abs(Y)<.1)y.push(I-B*H,C-D*H),y.push(I+B*N,C+D*N);else{var G=(-B+M)*(-D+C)-(-B+I)*(-D+P),V=(-k+O)*(-R+C)-(-k+I)*(-R+A),Z=(U*V-W*G)/Y,X=(z*G-F*V)/Y,J=(Z-I)*(Z-I)+(X-C)*(X-C),K=I+(Z-I)*H,Q=C+(X-C)*H,$=I-(Z-I)*N,tt=C-(X-C)*N,et=q?H:N;J<=Math.min(U*U+F*F,W*W+z*z)+et*et*S?h.join===r.BEVEL||J/S>T?(q?(y.push(K,Q),y.push(I+B*N,C+D*N),y.push(K,Q),y.push(I+k*N,C+R*N)):(y.push(I-B*H,C-D*H),y.push($,tt),y.push(I-k*H,C-R*H),y.push($,tt)),m+=2):h.join===r.ROUND?q?(y.push(K,Q),y.push(I+B*N,C+D*N),m+=w(I,C,I+B*N,C+D*N,I+k*N,C+R*N,y,!0)+4,y.push(K,Q),y.push(I+k*N,C+R*N)):(y.push(I-B*H,C-D*H),y.push($,tt),m+=w(I,C,I-B*H,C-D*H,I-k*H,C-R*H,y,!1)+4,y.push(I-k*H,C-R*H),y.push($,tt)):(y.push(K,Q),y.push($,tt)):(y.push(I-B*H,C-D*H),y.push(I+B*N,C+D*N),h.join===r.ROUND?m+=q?w(I,C,I+B*N,C+D*N,I+k*N,C+R*N,y,!0)+2:w(I,C,I-B*H,C-D*H,I-k*H,C-R*H,y,!1)+2:h.join===r.MITER&&J/S<=T&&(q?(y.push($,tt),y.push($,tt)):(y.push(K,Q),y.push(K,Q)),m+=2),y.push(I-k*H,C-R*H),y.push(I+k*N,C+R*N),m+=2)}}M=o[2*(v-2)],P=o[2*(v-2)+1],I=o[2*(v-1)],B=-(P-(C=o[2*(v-1)+1])),D=M-I,B/=E=Math.sqrt(B*B+D*D),D/=E,B*=b,D*=b,y.push(I-B*H,C-D*H),y.push(I+B*N,C+D*N),p||(h.cap===n.ROUND?m+=w(I-B*(H-N)*.5,C-D*(H-N)*.5,I-B*H,C-D*H,I+B*N,C+D*N,y,!1)+2:h.cap===n.SQUARE&&(m+=x(I,C,B,D,H,N,!1,y)));var it=e.indices,rt=c.epsilon*c.epsilon;for(j=_;j<m+_-2;++j)M=y[2*j],P=y[2*j+1],I=y[2*(j+1)],C=y[2*(j+1)+1],O=y[2*(j+2)],A=y[2*(j+2)+1],Math.abs(M*(C-A)+I*(A-P)+O*(P-C))<rt||it.push(j,j+1,j+2)}}(t,e)}var T,M,P=function(){function t(){}return t.curveTo=function(t,e,i,r,n,o){var s=o[o.length-2],a=o[o.length-1]-e,h=s-t,l=r-e,u=i-t,c=Math.abs(a*u-h*l);if(c<1e-8||0===n)return o[o.length-2]===t&&o[o.length-1]===e||o.push(t,e),null;var p=a*a+h*h,d=l*l+u*u,f=a*l+h*u,g=n*Math.sqrt(p)/c,y=n*Math.sqrt(d)/c,v=g*f/p,m=y*f/d,_=g*u+y*h,b=g*l+y*a,x=h*(y+v),w=a*(y+v),S=u*(g+m),T=l*(g+m);return{cx:_+t,cy:b+e,radius:n,startAngle:Math.atan2(w-b,x-_),endAngle:Math.atan2(T-b,S-_),anticlockwise:h*l>u*a}},t.arc=function(t,e,i,r,n,o,s,h,l){for(var u=s-o,p=c._segmentsCount(Math.abs(u)*n,40*Math.ceil(Math.abs(u)/a.TO)),d=u/(2*p),f=2*d,g=Math.cos(d),y=Math.sin(d),v=p-1,m=v%1/v,_=0;_<=v;++_){var b=d+o+f*(_+m*_),x=Math.cos(b),w=-Math.sin(b);l.push((g*x+y*w)*n+i,(g*-w+y*x)*n+r)}},t}(),I=function(){function t(){}return t.curveLength=function(t,e,i,r,n,o,s,a){for(var h=0,l=0,u=0,c=0,p=0,d=0,f=0,g=0,y=0,v=0,m=0,_=t,b=e,x=1;x<=10;++x)v=_-(g=(f=(d=(p=1-(l=x/10))*p)*p)*t+3*d*l*i+3*p*(u=l*l)*n+(c=u*l)*s),m=b-(y=f*e+3*d*l*r+3*p*u*o+c*a),_=g,b=y,h+=Math.sqrt(v*v+m*m);return h},t.curveTo=function(e,i,r,n,o,s,a){var h=a[a.length-2],l=a[a.length-1];a.length-=2;var u=c._segmentsCount(t.curveLength(h,l,e,i,r,n,o,s)),p=0,d=0,f=0,g=0,y=0;a.push(h,l);for(var v=1,m=0;v<=u;++v)f=(d=(p=1-(m=v/u))*p)*p,y=(g=m*m)*m,a.push(f*h+3*d*m*e+3*p*g*r+y*o,f*l+3*d*m*i+3*p*g*n+y*s)},t}(),C=function(){function t(){}return t.curveLength=function(t,e,i,r,n,o){var s=t-2*i+n,a=e-2*r+o,h=2*i-2*t,l=2*r-2*e,u=4*(s*s+a*a),c=4*(s*h+a*l),p=h*h+l*l,d=2*Math.sqrt(u+c+p),f=Math.sqrt(u),g=2*u*f,y=2*Math.sqrt(p),v=c/f;return(g*d+f*c*(d-y)+(4*p*u-c*c)*Math.log((2*f+v+d)/(v+y)))/(4*g)},t.curveTo=function(e,i,r,n,o){for(var s=o[o.length-2],a=o[o.length-1],h=c._segmentsCount(t.curveLength(s,a,e,i,r,n)),l=0,u=0,p=1;p<=h;++p){var d=p/h;l=s+(e-s)*d,u=a+(i-a)*d,o.push(l+(e+(r-e)*d-l)*d,u+(i+(n-i)*d-u)*d)}},t}(),O=function(){function t(){this.reset()}return t.prototype.begin=function(t,e,i){this.reset(),this.style=t,this.start=e,this.attribStart=i},t.prototype.end=function(t,e){this.attribSize=e-this.attribStart,this.size=t-this.start},t.prototype.reset=function(){this.style=null,this.size=0,this.start=0,this.attribStart=0,this.attribSize=0},t}(),A=((T={})[a.HY.POLY]=y,T[a.HY.CIRC]=v,T[a.HY.ELIP]=v,T[a.HY.RECT]={build:function(t){var e=t.shape,i=e.x,r=e.y,n=e.width,o=e.height,s=t.points;s.length=0,s.push(i,r,i+n,r,i+n,r+o,i,r+o)},triangulate:function(t,e){var i=t.points,r=e.points,n=r.length/2;r.push(i[0],i[1],i[2],i[3],i[6],i[7],i[4],i[5]),e.indices.push(n,n+1,n+2,n+1,n+2,n+3)}},T[a.HY.RREC]=b,T),B=[],D=[],k=function(){function t(t,e,i,r){void 0===e&&(e=null),void 0===i&&(i=null),void 0===r&&(r=null),this.points=[],this.holes=[],this.shape=t,this.lineStyle=i,this.fillStyle=e,this.matrix=r,this.type=t.type}return t.prototype.clone=function(){return new t(this.shape,this.fillStyle,this.lineStyle,this.matrix)},t.prototype.destroy=function(){this.shape=null,this.holes.length=0,this.holes=null,this.points.length=0,this.points=null,this.lineStyle=null,this.fillStyle=null},t}(),R=new a.bR,E=new u.cz,L=function(t){function e(){var e=t.call(this)||this;return e.closePointEps=1e-4,e.boundsPadding=0,e.uvsFloat32=null,e.indicesUint16=null,e.batchable=!1,e.points=[],e.colors=[],e.uvs=[],e.indices=[],e.textureIds=[],e.graphicsData=[],e.drawCalls=[],e.batchDirty=-1,e.batches=[],e.dirty=0,e.cacheDirty=-1,e.clearDirty=0,e.shapeIndex=0,e._bounds=new u.cz,e.boundsDirty=-1,e}return f(e,t),Object.defineProperty(e.prototype,"bounds",{get:function(){return this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.calculateBounds()),this._bounds},enumerable:!1,configurable:!0}),e.prototype.invalidate=function(){this.boundsDirty=-1,this.dirty++,this.batchDirty++,this.shapeIndex=0,this.points.length=0,this.colors.length=0,this.uvs.length=0,this.indices.length=0,this.textureIds.length=0;for(var t=0;t<this.drawCalls.length;t++)this.drawCalls[t].texArray.clear(),D.push(this.drawCalls[t]);for(this.drawCalls.length=0,t=0;t<this.batches.length;t++){var e=this.batches[t];e.reset(),B.push(e)}this.batches.length=0},e.prototype.clear=function(){return this.graphicsData.length>0&&(this.invalidate(),this.clearDirty++,this.graphicsData.length=0),this},e.prototype.drawShape=function(t,e,i,r){void 0===e&&(e=null),void 0===i&&(i=null),void 0===r&&(r=null);var n=new k(t,e,i,r);return this.graphicsData.push(n),this.dirty++,this},e.prototype.drawHole=function(t,e){if(void 0===e&&(e=null),!this.graphicsData.length)return null;var i=new k(t,null,null,e),r=this.graphicsData[this.graphicsData.length-1];return i.lineStyle=r.lineStyle,r.holes.push(i),this.dirty++,this},e.prototype.destroy=function(){t.prototype.destroy.call(this);for(var e=0;e<this.graphicsData.length;++e)this.graphicsData[e].destroy();this.points.length=0,this.points=null,this.colors.length=0,this.colors=null,this.uvs.length=0,this.uvs=null,this.indices.length=0,this.indices=null,this.indexBuffer.destroy(),this.indexBuffer=null,this.graphicsData.length=0,this.graphicsData=null,this.drawCalls.length=0,this.drawCalls=null,this.batches.length=0,this.batches=null,this._bounds=null},e.prototype.containsPoint=function(t){for(var e=this.graphicsData,i=0;i<e.length;++i){var r=e[i];if(r.fillStyle.visible&&r.shape&&(r.matrix?r.matrix.applyInverse(t,R):R.copyFrom(t),r.shape.contains(R.x,R.y))){var n=!1;if(r.holes)for(var o=0;o<r.holes.length;o++)if(r.holes[o].shape.contains(R.x,R.y)){n=!0;break}if(!n)return!0}}return!1},e.prototype.updateBatches=function(t){if(this.graphicsData.length){if(this.validateBatching()){this.cacheDirty=this.dirty;var e=this.uvs,i=this.graphicsData,r=null,n=null;this.batches.length>0&&(n=(r=this.batches[this.batches.length-1]).style);for(var o=this.shapeIndex;o<i.length;o++){this.shapeIndex++;var s=i[o],a=s.fillStyle,h=s.lineStyle;A[s.type].build(s),s.matrix&&this.transformPoints(s.points,s.matrix),(a.visible||h.visible)&&this.processHoles(s.holes);for(var u=0;u<2;u++){var c=0===u?a:h;if(c.visible){var p=c.texture.baseTexture,d=this.indices.length,f=this.points.length/2;p.wrapMode=l.uR.REPEAT,0===u?this.processFill(s):this.processLine(s);var g=this.points.length/2-f;0!==g&&(r&&!this._compareStyles(n,c)&&(r.end(d,f),r=null),r||((r=B.pop()||new O).begin(c,d,f),this.batches.push(r),n=c),this.addUvs(this.points,e,c.texture,f,g,c.matrix))}}}var y=this.indices.length,v=this.points.length/2;if(r&&r.end(y,v),0!==this.batches.length){if(this.indicesUint16&&this.indices.length===this.indicesUint16.length)this.indicesUint16.set(this.indices);else{var m=v>65535&&t;this.indicesUint16=m?new Uint32Array(this.indices):new Uint16Array(this.indices)}this.batchable=this.isBatchable(),this.batchable?this.packBatches():this.buildDrawCalls()}else this.batchable=!0}}else this.batchable=!0},e.prototype._compareStyles=function(t,e){return!(!t||!e)&&t.texture.baseTexture===e.texture.baseTexture&&t.color+t.alpha===e.color+e.alpha&&!!t.native==!!e.native},e.prototype.validateBatching=function(){if(this.dirty===this.cacheDirty||!this.graphicsData.length)return!1;for(var t=0,e=this.graphicsData.length;t<e;t++){var i=this.graphicsData[t],r=i.fillStyle,n=i.lineStyle;if(r&&!r.texture.baseTexture.valid)return!1;if(n&&!n.texture.baseTexture.valid)return!1}return!0},e.prototype.packBatches=function(){this.batchDirty++,this.uvsFloat32=new Float32Array(this.uvs);for(var t=this.batches,e=0,i=t.length;e<i;e++)for(var r=t[e],n=0;n<r.size;n++){var o=r.start+n;this.indicesUint16[o]=this.indicesUint16[o]-r.attribStart}},e.prototype.isBatchable=function(){if(this.points.length>131070)return!1;for(var t=this.batches,i=0;i<t.length;i++)if(t[i].style.native)return!1;return this.points.length<2*e.BATCHABLE_SIZE},e.prototype.buildDrawCalls=function(){for(var t=++s.t5._globalBatch,e=0;e<this.drawCalls.length;e++)this.drawCalls[e].texArray.clear(),D.push(this.drawCalls[e]);this.drawCalls.length=0;var i=this.colors,r=this.textureIds,n=D.pop();n||((n=new s.hq).texArray=new s.cc),n.texArray.count=0,n.start=0,n.size=0,n.type=l._4.TRIANGLES;var o=0,a=null,h=0,u=!1,c=l._4.TRIANGLES,p=0;for(this.drawCalls.push(n),e=0;e<this.batches.length;e++){var d=this.batches[e],f=d.style,g=f.texture.baseTexture;u!==!!f.native&&(c=(u=!!f.native)?l._4.LINES:l._4.TRIANGLES,a=null,o=8,t++),a!==g&&(a=g,g._batchEnabled!==t&&(8===o&&(t++,o=0,n.size>0&&((n=D.pop())||((n=new s.hq).texArray=new s.cc),this.drawCalls.push(n)),n.start=p,n.size=0,n.texArray.count=0,n.type=c),g.touched=1,g._batchEnabled=t,g._batchLocation=o,g.wrapMode=l.uR.REPEAT,n.texArray.elements[n.texArray.count++]=g,o++)),n.size+=d.size,p+=d.size,h=g._batchLocation,this.addColors(i,f.color,f.alpha,d.attribSize,d.attribStart),this.addTextureIds(r,h,d.attribSize,d.attribStart)}s.t5._globalBatch=t,this.packAttributes()},e.prototype.packAttributes=function(){for(var t=this.points,e=this.uvs,i=this.colors,r=this.textureIds,n=new ArrayBuffer(3*t.length*4),o=new Float32Array(n),s=new Uint32Array(n),a=0,h=0;h<t.length/2;h++)o[a++]=t[2*h],o[a++]=t[2*h+1],o[a++]=e[2*h],o[a++]=e[2*h+1],s[a++]=i[h],o[a++]=r[h];this._buffer.update(n),this._indexBuffer.update(this.indicesUint16)},e.prototype.processFill=function(t){t.holes.length?y.triangulate(t,this):A[t.type].triangulate(t,this)},e.prototype.processLine=function(t){S(t,this);for(var e=0;e<t.holes.length;e++)S(t.holes[e],this)},e.prototype.processHoles=function(t){for(var e=0;e<t.length;e++){var i=t[e];A[i.type].build(i),i.matrix&&this.transformPoints(i.points,i.matrix)}},e.prototype.calculateBounds=function(){var t=this._bounds,e=E,i=a.uq.IDENTITY;this._bounds.clear(),e.clear();for(var r=0;r<this.graphicsData.length;r++){var n=this.graphicsData[r],o=n.shape,s=n.type,h=n.lineStyle,l=n.matrix||a.uq.IDENTITY,u=0;if(h&&h.visible&&(u=h.width,s!==a.HY.POLY||n.fillStyle.visible?u*=Math.max(0,h.alignment):u*=Math.max(h.alignment,1-h.alignment)),i!==l&&(e.isEmpty()||(t.addBoundsMatrix(e,i),e.clear()),i=l),s===a.HY.RECT||s===a.HY.RREC){var c=o;e.addFramePad(c.x,c.y,c.x+c.width,c.y+c.height,u,u)}else if(s===a.HY.CIRC){var p=o;e.addFramePad(p.x,p.y,p.x,p.y,p.radius+u,p.radius+u)}else if(s===a.HY.ELIP){var d=o;e.addFramePad(d.x,d.y,d.x,d.y,d.width+u,d.height+u)}else{var f=o;t.addVerticesMatrix(i,f.points,0,f.points.length,u,u)}}e.isEmpty()||t.addBoundsMatrix(e,i),t.pad(this.boundsPadding,this.boundsPadding)},e.prototype.transformPoints=function(t,e){for(var i=0;i<t.length/2;i++){var r=t[2*i],n=t[2*i+1];t[2*i]=e.a*r+e.c*n+e.tx,t[2*i+1]=e.b*r+e.d*n+e.ty}},e.prototype.addColors=function(t,e,i,r,n){void 0===n&&(n=0);var o=(e>>16)+(65280&e)+((255&e)<<16),s=(0,h.rQ)(o,i);t.length=Math.max(t.length,n+r);for(var a=0;a<r;a++)t[n+a]=s},e.prototype.addTextureIds=function(t,e,i,r){void 0===r&&(r=0),t.length=Math.max(t.length,r+i);for(var n=0;n<i;n++)t[r+n]=e},e.prototype.addUvs=function(t,e,i,r,n,o){void 0===o&&(o=null);for(var s=0,a=e.length,h=i.frame;s<n;){var l=t[2*(r+s)],u=t[2*(r+s)+1];if(o){var c=o.a*l+o.c*u+o.tx;u=o.b*l+o.d*u+o.ty,l=c}s++,e.push(l/h.width,u/h.height)}var p=i.baseTexture;(h.width<p.width||h.height<p.height)&&this.adjustUvs(e,i,a,n)},e.prototype.adjustUvs=function(t,e,i,r){for(var n=e.baseTexture,o=1e-6,s=i+2*r,a=e.frame,h=a.width/n.width,l=a.height/n.height,u=a.x/a.width,c=a.y/a.height,p=Math.floor(t[i]+o),d=Math.floor(t[i+1]+o),f=i+2;f<s;f+=2)p=Math.min(p,Math.floor(t[f]+o)),d=Math.min(d,Math.floor(t[f+1]+o));for(u-=p,c-=d,f=i;f<s;f+=2)t[f]=(t[f]+u)*h,t[f+1]=(t[f+1]+c)*l},e.BATCHABLE_SIZE=100,e}(s.JH),H=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.width=0,e.alignment=.5,e.native=!1,e.cap=n.BUTT,e.join=r.MITER,e.miterLimit=10,e}return f(e,t),e.prototype.clone=function(){var t=new e;return t.color=this.color,t.alpha=this.alpha,t.texture=this.texture,t.matrix=this.matrix,t.visible=this.visible,t.width=this.width,t.alignment=this.alignment,t.native=this.native,t.cap=this.cap,t.join=this.join,t.miterLimit=this.miterLimit,t},e.prototype.reset=function(){t.prototype.reset.call(this),this.color=0,this.alignment=.5,this.width=0,this.native=!1},e}(p),N=new Float32Array(3),j={},U=function(t){function e(e){void 0===e&&(e=null);var i=t.call(this)||this;return i.shader=null,i.pluginName="batch",i.currentPath=null,i.batches=[],i.batchTint=-1,i.batchDirty=-1,i.vertexData=null,i._fillStyle=new p,i._lineStyle=new H,i._matrix=null,i._holeMode=!1,i.state=s.Uw.for2d(),i._geometry=e||new L,i._geometry.refCount++,i._transformID=-1,i.tint=16777215,i.blendMode=l.B9.NORMAL,i}return f(e,t),Object.defineProperty(e.prototype,"geometry",{get:function(){return this._geometry},enumerable:!1,configurable:!0}),e.prototype.clone=function(){return this.finishPoly(),new e(this._geometry)},Object.defineProperty(e.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(t){this.state.blendMode=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tint",{get:function(){return this._tint},set:function(t){this._tint=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fill",{get:function(){return this._fillStyle},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"line",{get:function(){return this._lineStyle},enumerable:!1,configurable:!0}),e.prototype.lineStyle=function(t,e,i,r,n){return void 0===t&&(t=null),void 0===e&&(e=0),void 0===i&&(i=1),void 0===r&&(r=.5),void 0===n&&(n=!1),"number"==typeof t&&(t={width:t,color:e,alpha:i,alignment:r,native:n}),this.lineTextureStyle(t)},e.prototype.lineTextureStyle=function(t){t=Object.assign({width:0,texture:s.gP.WHITE,color:t&&t.texture?16777215:0,alpha:1,matrix:null,alignment:.5,native:!1,cap:n.BUTT,join:r.MITER,miterLimit:10},t),this.currentPath&&this.startPoly();var e=t.width>0&&t.alpha>0;return e?(t.matrix&&(t.matrix=t.matrix.clone(),t.matrix.invert()),Object.assign(this._lineStyle,{visible:e},t)):this._lineStyle.reset(),this},e.prototype.startPoly=function(){if(this.currentPath){var t=this.currentPath.points,e=this.currentPath.points.length;e>2&&(this.drawShape(this.currentPath),this.currentPath=new a.tS,this.currentPath.closeStroke=!1,this.currentPath.points.push(t[e-2],t[e-1]))}else this.currentPath=new a.tS,this.currentPath.closeStroke=!1},e.prototype.finishPoly=function(){this.currentPath&&(this.currentPath.points.length>2?(this.drawShape(this.currentPath),this.currentPath=null):this.currentPath.points.length=0)},e.prototype.moveTo=function(t,e){return this.startPoly(),this.currentPath.points[0]=t,this.currentPath.points[1]=e,this},e.prototype.lineTo=function(t,e){this.currentPath||this.moveTo(0,0);var i=this.currentPath.points,r=i[i.length-2],n=i[i.length-1];return r===t&&n===e||i.push(t,e),this},e.prototype._initCurve=function(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this.currentPath?0===this.currentPath.points.length&&(this.currentPath.points=[t,e]):this.moveTo(t,e)},e.prototype.quadraticCurveTo=function(t,e,i,r){this._initCurve();var n=this.currentPath.points;return 0===n.length&&this.moveTo(0,0),C.curveTo(t,e,i,r,n),this},e.prototype.bezierCurveTo=function(t,e,i,r,n,o){return this._initCurve(),I.curveTo(t,e,i,r,n,o,this.currentPath.points),this},e.prototype.arcTo=function(t,e,i,r,n){this._initCurve(t,e);var o=this.currentPath.points,s=P.curveTo(t,e,i,r,n,o);if(s){var a=s.cx,h=s.cy,l=s.radius,u=s.startAngle,c=s.endAngle,p=s.anticlockwise;this.arc(a,h,l,u,c,p)}return this},e.prototype.arc=function(t,e,i,r,n,o){if(void 0===o&&(o=!1),r===n)return this;if(!o&&n<=r?n+=a.TO:o&&r<=n&&(r+=a.TO),0==n-r)return this;var s=t+Math.cos(r)*i,h=e+Math.sin(r)*i,l=this._geometry.closePointEps,u=this.currentPath?this.currentPath.points:null;if(u){var c=Math.abs(u[u.length-2]-s),p=Math.abs(u[u.length-1]-h);c<l&&p<l||u.push(s,h)}else this.moveTo(s,h),u=this.currentPath.points;return P.arc(s,h,t,e,i,r,n,o,u),this},e.prototype.beginFill=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=1),this.beginTextureFill({texture:s.gP.WHITE,color:t,alpha:e})},e.prototype.beginTextureFill=function(t){t=Object.assign({texture:s.gP.WHITE,color:16777215,alpha:1,matrix:null},t),this.currentPath&&this.startPoly();var e=t.alpha>0;return e?(t.matrix&&(t.matrix=t.matrix.clone(),t.matrix.invert()),Object.assign(this._fillStyle,{visible:e},t)):this._fillStyle.reset(),this},e.prototype.endFill=function(){return this.finishPoly(),this._fillStyle.reset(),this},e.prototype.drawRect=function(t,e,i,r){return this.drawShape(new a.M_(t,e,i,r))},e.prototype.drawRoundedRect=function(t,e,i,r,n){return this.drawShape(new a.TE(t,e,i,r,n))},e.prototype.drawCircle=function(t,e,i){return this.drawShape(new a.jl(t,e,i))},e.prototype.drawEllipse=function(t,e,i,r){return this.drawShape(new a.Pp(t,e,i,r))},e.prototype.drawPolygon=function(){for(var t,e=arguments,i=[],r=0;r<arguments.length;r++)i[r]=e[r];var n=!0,o=i[0];o.points?(n=o.closeStroke,t=o.points):t=Array.isArray(i[0])?i[0]:i;var s=new a.tS(t);return s.closeStroke=n,this.drawShape(s),this},e.prototype.drawShape=function(t){return this._holeMode?this._geometry.drawHole(t,this._matrix):this._geometry.drawShape(t,this._fillStyle.clone(),this._lineStyle.clone(),this._matrix),this},e.prototype.clear=function(){return this._geometry.clear(),this._lineStyle.reset(),this._fillStyle.reset(),this._boundsID++,this._matrix=null,this._holeMode=!1,this.currentPath=null,this},e.prototype.isFastRect=function(){var t=this._geometry.graphicsData;return!(1!==t.length||t[0].shape.type!==a.HY.RECT||t[0].matrix||t[0].holes.length||t[0].lineStyle.visible&&t[0].lineStyle.width)},e.prototype._render=function(t){this.finishPoly();var e=this._geometry,i=t.context.supports.uint32Indices;e.updateBatches(i),e.batchable?(this.batchDirty!==e.batchDirty&&this._populateBatches(),this._renderBatched(t)):(t.batch.flush(),this._renderDirect(t))},e.prototype._populateBatches=function(){var t=this._geometry,e=this.blendMode,i=t.batches.length;this.batchTint=-1,this._transformID=-1,this.batchDirty=t.batchDirty,this.batches.length=i,this.vertexData=new Float32Array(t.points);for(var r=0;r<i;r++){var n=t.batches[r],o=n.style.color,s=new Float32Array(this.vertexData.buffer,4*n.attribStart*2,2*n.attribSize),a=new Float32Array(t.uvsFloat32.buffer,4*n.attribStart*2,2*n.attribSize),l={vertexData:s,blendMode:e,indices:new Uint16Array(t.indicesUint16.buffer,2*n.start,n.size),uvs:a,_batchRGB:(0,h.xp)(o),_tintRGB:o,_texture:n.style.texture,alpha:n.style.alpha,worldAlpha:1};this.batches[r]=l}},e.prototype._renderBatched=function(t){if(this.batches.length){t.batch.setObjectRenderer(t.plugins[this.pluginName]),this.calculateVertices(),this.calculateTints();for(var e=0,i=this.batches.length;e<i;e++){var r=this.batches[e];r.worldAlpha=this.worldAlpha*r.alpha,t.plugins[this.pluginName].render(r)}}},e.prototype._renderDirect=function(t){var e=this._resolveDirectShader(t),i=this._geometry,r=this.tint,n=this.worldAlpha,o=e.uniforms,s=i.drawCalls;o.translationMatrix=this.transform.worldTransform,o.tint[0]=(r>>16&255)/255*n,o.tint[1]=(r>>8&255)/255*n,o.tint[2]=(255&r)/255*n,o.tint[3]=n,t.shader.bind(e),t.geometry.bind(i,e),t.state.set(this.state);for(var a=0,h=s.length;a<h;a++)this._renderDrawCallDirect(t,i.drawCalls[a])},e.prototype._renderDrawCallDirect=function(t,e){for(var i=e.texArray,r=e.type,n=e.size,o=e.start,s=i.count,a=0;a<s;a++)t.texture.bind(i.elements[a],a);t.geometry.draw(r,n,o)},e.prototype._resolveDirectShader=function(t){var e=this.shader,i=this.pluginName;if(!e){if(!j[i]){for(var r=t.plugins[i].MAX_TEXTURES,n=new Int32Array(r),o=0;o<r;o++)n[o]=o;var h={tint:new Float32Array([1,1,1,1]),translationMatrix:new a.uq,default:s.k2.from({uSamplers:n},!0)},l=t.plugins[i]._shader.program;j[i]=new s.Mt(l,h)}e=j[i]}return e},e.prototype._calculateBounds=function(){this.finishPoly();var t=this._geometry;if(t.graphicsData.length){var e=t.bounds,i=e.minX,r=e.minY,n=e.maxX,o=e.maxY;this._bounds.addFrame(this.transform,i,r,n,o)}},e.prototype.containsPoint=function(t){return this.worldTransform.applyInverse(t,e._TEMP_POINT),this._geometry.containsPoint(e._TEMP_POINT)},e.prototype.calculateTints=function(){if(this.batchTint!==this.tint){this.batchTint=this.tint;for(var t=(0,h.xp)(this.tint,N),e=0;e<this.batches.length;e++){var i=this.batches[e],r=i._batchRGB,n=(t[0]*r[0]*255<<16)+(t[1]*r[1]*255<<8)+(0|t[2]*r[2]*255);i._tintRGB=(n>>16)+(65280&n)+((255&n)<<16)}}},e.prototype.calculateVertices=function(){var t=this.transform._worldID;if(this._transformID!==t){this._transformID=t;for(var e=this.transform.worldTransform,i=e.a,r=e.b,n=e.c,o=e.d,s=e.tx,a=e.ty,h=this._geometry.points,l=this.vertexData,u=0,c=0;c<h.length;c+=2){var p=h[c],d=h[c+1];l[u++]=i*p+n*d+s,l[u++]=o*d+r*p+a}}},e.prototype.closePath=function(){var t=this.currentPath;return t&&(t.closeStroke=!0,this.finishPoly()),this},e.prototype.setMatrix=function(t){return this._matrix=t,this},e.prototype.beginHole=function(){return this.finishPoly(),this._holeMode=!0,this},e.prototype.endHole=function(){return this.finishPoly(),this._holeMode=!1,this},e.prototype.destroy=function(e){this._geometry.refCount--,0===this._geometry.refCount&&this._geometry.dispose(),this._matrix=null,this.currentPath=null,this._lineStyle.destroy(),this._lineStyle=null,this._fillStyle.destroy(),this._fillStyle=null,this._geometry=null,this.shader=null,this.vertexData=null,this.batches.length=0,this.batches=null,t.prototype.destroy.call(this,e)},e.nextRoundedRectBehavior=!1,e._TEMP_POINT=new a.bR,e}(u.mc),F=i(401),W=i(153),z=function(t,e){return z=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},z(t,e)};!function(t){t[t.LINEAR_VERTICAL=0]="LINEAR_VERTICAL",t[t.LINEAR_HORIZONTAL=1]="LINEAR_HORIZONTAL"}(M||(M={}));var Y={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fillGradientType:M.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100,leading:0},q=["serif","sans-serif","monospace","cursive","fantasy","system-ui"],G=function(){function t(t){this.styleID=0,this.reset(),X(this,t,t)}return t.prototype.clone=function(){var e={};return X(e,this,Y),new t(e)},t.prototype.reset=function(){X(this,Y,Y)},Object.defineProperty(t.prototype,"align",{get:function(){return this._align},set:function(t){this._align!==t&&(this._align=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"breakWords",{get:function(){return this._breakWords},set:function(t){this._breakWords!==t&&(this._breakWords=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropShadow",{get:function(){return this._dropShadow},set:function(t){this._dropShadow!==t&&(this._dropShadow=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropShadowAlpha",{get:function(){return this._dropShadowAlpha},set:function(t){this._dropShadowAlpha!==t&&(this._dropShadowAlpha=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropShadowAngle",{get:function(){return this._dropShadowAngle},set:function(t){this._dropShadowAngle!==t&&(this._dropShadowAngle=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropShadowBlur",{get:function(){return this._dropShadowBlur},set:function(t){this._dropShadowBlur!==t&&(this._dropShadowBlur=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropShadowColor",{get:function(){return this._dropShadowColor},set:function(t){var e=Z(t);this._dropShadowColor!==e&&(this._dropShadowColor=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropShadowDistance",{get:function(){return this._dropShadowDistance},set:function(t){this._dropShadowDistance!==t&&(this._dropShadowDistance=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fill",{get:function(){return this._fill},set:function(t){var e=Z(t);this._fill!==e&&(this._fill=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fillGradientType",{get:function(){return this._fillGradientType},set:function(t){this._fillGradientType!==t&&(this._fillGradientType=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fillGradientStops",{get:function(){return this._fillGradientStops},set:function(t){(function(t,e){if(!Array.isArray(t)||!Array.isArray(e))return!1;if(t.length!==e.length)return!1;for(var i=0;i<t.length;++i)if(t[i]!==e[i])return!1;return!0})(this._fillGradientStops,t)||(this._fillGradientStops=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontFamily",{get:function(){return this._fontFamily},set:function(t){this.fontFamily!==t&&(this._fontFamily=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontSize",{get:function(){return this._fontSize},set:function(t){this._fontSize!==t&&(this._fontSize=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontStyle",{get:function(){return this._fontStyle},set:function(t){this._fontStyle!==t&&(this._fontStyle=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontVariant",{get:function(){return this._fontVariant},set:function(t){this._fontVariant!==t&&(this._fontVariant=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontWeight",{get:function(){return this._fontWeight},set:function(t){this._fontWeight!==t&&(this._fontWeight=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"letterSpacing",{get:function(){return this._letterSpacing},set:function(t){this._letterSpacing!==t&&(this._letterSpacing=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lineHeight",{get:function(){return this._lineHeight},set:function(t){this._lineHeight!==t&&(this._lineHeight=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"leading",{get:function(){return this._leading},set:function(t){this._leading!==t&&(this._leading=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lineJoin",{get:function(){return this._lineJoin},set:function(t){this._lineJoin!==t&&(this._lineJoin=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"miterLimit",{get:function(){return this._miterLimit},set:function(t){this._miterLimit!==t&&(this._miterLimit=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"padding",{get:function(){return this._padding},set:function(t){this._padding!==t&&(this._padding=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"stroke",{get:function(){return this._stroke},set:function(t){var e=Z(t);this._stroke!==e&&(this._stroke=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"strokeThickness",{get:function(){return this._strokeThickness},set:function(t){this._strokeThickness!==t&&(this._strokeThickness=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"textBaseline",{get:function(){return this._textBaseline},set:function(t){this._textBaseline!==t&&(this._textBaseline=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"trim",{get:function(){return this._trim},set:function(t){this._trim!==t&&(this._trim=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"whiteSpace",{get:function(){return this._whiteSpace},set:function(t){this._whiteSpace!==t&&(this._whiteSpace=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"wordWrap",{get:function(){return this._wordWrap},set:function(t){this._wordWrap!==t&&(this._wordWrap=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"wordWrapWidth",{get:function(){return this._wordWrapWidth},set:function(t){this._wordWrapWidth!==t&&(this._wordWrapWidth=t,this.styleID++)},enumerable:!1,configurable:!0}),t.prototype.toFontString=function(){var t="number"==typeof this.fontSize?this.fontSize+"px":this.fontSize,e=this.fontFamily;Array.isArray(this.fontFamily)||(e=this.fontFamily.split(","));for(var i=e.length-1;i>=0;i--){var r=e[i].trim();!/([\"\'])[^\'\"]+\1/.test(r)&&q.indexOf(r)<0&&(r='"'+r+'"'),e[i]=r}return this.fontStyle+" "+this.fontVariant+" "+this.fontWeight+" "+t+" "+e.join(",")},t}();function V(t){return"number"==typeof t?(0,h.PF)(t):("string"==typeof t&&0===t.indexOf("0x")&&(t=t.replace("0x","#")),t)}function Z(t){if(Array.isArray(t)){for(var e=0;e<t.length;++e)t[e]=V(t[e]);return t}return V(t)}function X(t,e,i){for(var r in i)Array.isArray(e[r])?t[r]=e[r].slice():t[r]=e[r]}var J=function(){function t(t,e,i,r,n,o,s,a,h){this.text=t,this.style=e,this.width=i,this.height=r,this.lines=n,this.lineWidths=o,this.lineHeight=s,this.maxLineWidth=a,this.fontProperties=h}return t.measureText=function(e,i,r,n){void 0===n&&(n=t._canvas),r=null==r?i.wordWrap:r;var o=i.toFontString(),s=t.measureFont(o);0===s.fontSize&&(s.fontSize=i.fontSize,s.ascent=i.fontSize);var a=n.getContext("2d");a.font=o;for(var h=(r?t.wordWrap(e,i,n):e).split(/(?:\r\n|\r|\n)/),l=new Array(h.length),u=0,c=0;c<h.length;c++){var p=a.measureText(h[c]).width+(h[c].length-1)*i.letterSpacing;l[c]=p,u=Math.max(u,p)}var d=u+i.strokeThickness;i.dropShadow&&(d+=i.dropShadowDistance);var f=i.lineHeight||s.fontSize+i.strokeThickness,g=Math.max(f,s.fontSize+i.strokeThickness)+(h.length-1)*(f+i.leading);return i.dropShadow&&(g+=i.dropShadowDistance),new t(e,i,d,g,h,l,f+i.leading,u,s)},t.wordWrap=function(e,i,r){void 0===r&&(r=t._canvas);for(var n=r.getContext("2d"),o=0,s="",a="",h=Object.create(null),l=i.letterSpacing,u=i.whiteSpace,c=t.collapseSpaces(u),p=t.collapseNewlines(u),d=!c,f=i.wordWrapWidth+l,g=t.tokenize(e),y=0;y<g.length;y++){var v=g[y];if(t.isNewline(v)){if(!p){a+=t.addLine(s),d=!c,s="",o=0;continue}v=" "}if(c){var m=t.isBreakingSpace(v),_=t.isBreakingSpace(s[s.length-1]);if(m&&_)continue}var b=t.getFromCache(v,l,h,n);if(b>f)if(""!==s&&(a+=t.addLine(s),s="",o=0),t.canBreakWords(v,i.breakWords))for(var x=t.wordWrapSplit(v),w=0;w<x.length;w++){for(var S=x[w],T=1;x[w+T];){var M=x[w+T],P=S[S.length-1];if(t.canBreakChars(P,M,v,w,i.breakWords))break;S+=M,T++}w+=S.length-1;var I=t.getFromCache(S,l,h,n);I+o>f&&(a+=t.addLine(s),d=!1,s="",o=0),s+=S,o+=I}else{s.length>0&&(a+=t.addLine(s),s="",o=0);var C=y===g.length-1;a+=t.addLine(v,!C),d=!1,s="",o=0}else b+o>f&&(d=!1,a+=t.addLine(s),s="",o=0),(s.length>0||!t.isBreakingSpace(v)||d)&&(s+=v,o+=b)}return a+t.addLine(s,!1)},t.addLine=function(e,i){return void 0===i&&(i=!0),e=t.trimRight(e),i?e+"\n":e},t.getFromCache=function(t,e,i,r){var n=i[t];if("number"!=typeof n){var o=t.length*e;n=r.measureText(t).width+o,i[t]=n}return n},t.collapseSpaces=function(t){return"normal"===t||"pre-line"===t},t.collapseNewlines=function(t){return"normal"===t},t.trimRight=function(e){if("string"!=typeof e)return"";for(var i=e.length-1;i>=0;i--){var r=e[i];if(!t.isBreakingSpace(r))break;e=e.slice(0,-1)}return e},t.isNewline=function(e){return"string"==typeof e&&t._newlines.indexOf(e.charCodeAt(0))>=0},t.isBreakingSpace=function(e,i){return"string"==typeof e&&t._breakingSpaces.indexOf(e.charCodeAt(0))>=0},t.tokenize=function(e){var i=[],r="";if("string"!=typeof e)return i;for(var n=0;n<e.length;n++){var o=e[n],s=e[n+1];t.isBreakingSpace(o,s)||t.isNewline(o)?(""!==r&&(i.push(r),r=""),i.push(o)):r+=o}return""!==r&&i.push(r),i},t.canBreakWords=function(t,e){return e},t.canBreakChars=function(t,e,i,r,n){return!0},t.wordWrapSplit=function(t){return t.split("")},t.measureFont=function(e){if(t._fonts[e])return t._fonts[e];var i={ascent:0,descent:0,fontSize:0},r=t._canvas,n=t._context;n.font=e;var o=t.METRICS_STRING+t.BASELINE_SYMBOL,s=Math.ceil(n.measureText(o).width),a=Math.ceil(n.measureText(t.BASELINE_SYMBOL).width),h=Math.ceil(t.HEIGHT_MULTIPLIER*a);a=a*t.BASELINE_MULTIPLIER|0,r.width=s,r.height=h,n.fillStyle="#f00",n.fillRect(0,0,s,h),n.font=e,n.textBaseline="alphabetic",n.fillStyle="#000",n.fillText(o,0,a);var l=n.getImageData(0,0,s,h).data,u=l.length,c=4*s,p=0,d=0,f=!1;for(p=0;p<a;++p){for(var g=0;g<c;g+=4)if(255!==l[d+g]){f=!0;break}if(f)break;d+=c}for(i.ascent=a-p,d=u-c,f=!1,p=h;p>a;--p){for(g=0;g<c;g+=4)if(255!==l[d+g]){f=!0;break}if(f)break;d-=c}return i.descent=p-a,i.fontSize=i.ascent+i.descent,t._fonts[e]=i,i},t.clearMetrics=function(e){void 0===e&&(e=""),e?delete t._fonts[e]:t._fonts={}},Object.defineProperty(t,"_canvas",{get:function(){if(!t.__canvas){var e=void 0;try{var i=new OffscreenCanvas(0,0),r=i.getContext("2d");if(r&&r.measureText)return t.__canvas=i,i;e=document.createElement("canvas")}catch(t){e=document.createElement("canvas")}e.width=e.height=10,t.__canvas=e}return t.__canvas},enumerable:!1,configurable:!0}),Object.defineProperty(t,"_context",{get:function(){return t.__context||(t.__context=t._canvas.getContext("2d")),t.__context},enumerable:!1,configurable:!0}),t}();J._fonts={},J.METRICS_STRING="|q",J.BASELINE_SYMBOL="M",J.BASELINE_MULTIPLIER=1.4,J.HEIGHT_MULTIPLIER=2,J._newlines=[10,13],J._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288];var K={texture:!0,children:!1,baseTexture:!0},Q=function(t){function e(e,i,r){var n=this,h=!1;r||(r=document.createElement("canvas"),h=!0),r.width=3,r.height=3;var l=s.gP.from(r);return l.orig=new a.M_,l.trim=new a.M_,(n=t.call(this,l)||this)._ownCanvas=h,n.canvas=r,n.context=n.canvas.getContext("2d"),n._resolution=o.W.RESOLUTION,n._autoResolution=!0,n._text=null,n._style=null,n._styleListener=null,n._font="",n.text=e,n.style=i,n.localStyleID=-1,n}return function(t,e){function i(){this.constructor=t}z(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}(e,t),e.prototype.updateText=function(t){var i=this._style;if(this.localStyleID!==i.styleID&&(this.dirty=!0,this.localStyleID=i.styleID),this.dirty||!t){this._font=this._style.toFontString();var r,n,o=this.context,s=J.measureText(this._text||" ",this._style,this._style.wordWrap,this.canvas),a=s.width,l=s.height,u=s.lines,c=s.lineHeight,p=s.lineWidths,d=s.maxLineWidth,f=s.fontProperties;this.canvas.width=Math.ceil(Math.ceil(Math.max(1,a)+2*i.padding)*this._resolution),this.canvas.height=Math.ceil(Math.ceil(Math.max(1,l)+2*i.padding)*this._resolution),o.scale(this._resolution,this._resolution),o.clearRect(0,0,this.canvas.width,this.canvas.height),o.font=this._font,o.lineWidth=i.strokeThickness,o.textBaseline=i.textBaseline,o.lineJoin=i.lineJoin,o.miterLimit=i.miterLimit;for(var g=i.dropShadow?2:1,y=0;y<g;++y){var v=i.dropShadow&&0===y,m=v?Math.ceil(Math.max(1,l)+2*i.padding):0,_=m*this._resolution;if(v){o.fillStyle="black",o.strokeStyle="black";var b=i.dropShadowColor,x=(0,h.xp)("number"==typeof b?b:(0,h.f4)(b)),w=i.dropShadowBlur*this._resolution,S=i.dropShadowDistance*this._resolution;o.shadowColor="rgba("+255*x[0]+","+255*x[1]+","+255*x[2]+","+i.dropShadowAlpha+")",o.shadowBlur=w,o.shadowOffsetX=Math.cos(i.dropShadowAngle)*S,o.shadowOffsetY=Math.sin(i.dropShadowAngle)*S+_}else o.fillStyle=this._generateFillStyle(i,u,s),o.strokeStyle=i.stroke,o.shadowColor="black",o.shadowBlur=0,o.shadowOffsetX=0,o.shadowOffsetY=0;var T=(c-f.fontSize)/2;(!e.nextLineHeightBehavior||c-f.fontSize<0)&&(T=0);for(var M=0;M<u.length;M++)r=i.strokeThickness/2,n=i.strokeThickness/2+M*c+f.ascent+T,"right"===i.align?r+=d-p[M]:"center"===i.align&&(r+=(d-p[M])/2),i.stroke&&i.strokeThickness&&this.drawLetterSpacing(u[M],r+i.padding,n+i.padding-m,!0),i.fill&&this.drawLetterSpacing(u[M],r+i.padding,n+i.padding-m)}this.updateTexture()}},e.prototype.drawLetterSpacing=function(t,i,r,n){void 0===n&&(n=!1);var o=this._style.letterSpacing,s=e.experimentalLetterSpacing&&("letterSpacing"in CanvasRenderingContext2D.prototype||"textLetterSpacing"in CanvasRenderingContext2D.prototype);if(0===o||s)return s&&(this.context.letterSpacing=o,this.context.textLetterSpacing=o),void(n?this.context.strokeText(t,i,r):this.context.fillText(t,i,r));for(var a=i,h=Array.from?Array.from(t):t.split(""),l=this.context.measureText(t).width,u=0,c=0;c<h.length;++c){var p=h[c];n?this.context.strokeText(p,a,r):this.context.fillText(p,a,r);for(var d="",f=c+1;f<h.length;++f)d+=h[f];a+=l-(u=this.context.measureText(d).width)+o,l=u}},e.prototype.updateTexture=function(){var t=this.canvas;if(this._style.trim){var e=(0,h.R2)(t);e.data&&(t.width=e.width,t.height=e.height,this.context.putImageData(e.data,0,0))}var i=this._texture,r=this._style,n=r.trim?0:r.padding,o=i.baseTexture;i.trim.width=i._frame.width=t.width/this._resolution,i.trim.height=i._frame.height=t.height/this._resolution,i.trim.x=-n,i.trim.y=-n,i.orig.width=i._frame.width-2*n,i.orig.height=i._frame.height-2*n,this._onTextureUpdate(),o.setRealSize(t.width,t.height,this._resolution),i.updateUvs(),this.dirty=!1},e.prototype._render=function(e){this._autoResolution&&this._resolution!==e.resolution&&(this._resolution=e.resolution,this.dirty=!0),this.updateText(!0),t.prototype._render.call(this,e)},e.prototype.updateTransform=function(){this.updateText(!0),t.prototype.updateTransform.call(this)},e.prototype.getBounds=function(e,i){return this.updateText(!0),-1===this._textureID&&(e=!1),t.prototype.getBounds.call(this,e,i)},e.prototype.getLocalBounds=function(e){return this.updateText(!0),t.prototype.getLocalBounds.call(this,e)},e.prototype._calculateBounds=function(){this.calculateVertices(),this._bounds.addQuad(this.vertexData)},e.prototype._generateFillStyle=function(t,e,i){var r,n=t.fill;if(!Array.isArray(n))return n;if(1===n.length)return n[0];var o=t.dropShadow?t.dropShadowDistance:0,s=t.padding||0,a=this.canvas.width/this._resolution-o-2*s,h=this.canvas.height/this._resolution-o-2*s,l=n.slice(),u=t.fillGradientStops.slice();if(!u.length)for(var c=l.length+1,p=1;p<c;++p)u.push(p/c);if(l.unshift(n[0]),u.unshift(0),l.push(n[n.length-1]),u.push(1),t.fillGradientType===M.LINEAR_VERTICAL){r=this.context.createLinearGradient(a/2,s,a/2,h+s);var d=i.fontProperties.fontSize+t.strokeThickness;for(p=0;p<e.length;p++){var f=i.lineHeight*(p-1)+d,g=i.lineHeight*p,y=g;p>0&&f>g&&(y=(g+f)/2);var v=g+d,m=i.lineHeight*(p+1),_=v;p+1<e.length&&m<v&&(_=(v+m)/2);for(var b=(_-y)/h,x=0;x<l.length;x++){var w;w="number"==typeof u[x]?u[x]:x/l.length;var S=Math.min(1,Math.max(0,y/h+w*b));S=Number(S.toFixed(5)),r.addColorStop(S,l[x])}}}else{r=this.context.createLinearGradient(s,h/2,a+s,h/2);var T=l.length+1,P=1;for(p=0;p<l.length;p++){var I;I="number"==typeof u[p]?u[p]:P/T,r.addColorStop(I,l[p]),P++}}return r},e.prototype.destroy=function(e){"boolean"==typeof e&&(e={children:e}),e=Object.assign({},K,e),t.prototype.destroy.call(this,e),this._ownCanvas&&(this.canvas.height=this.canvas.width=0),this.context=null,this.canvas=null,this._style=null},Object.defineProperty(e.prototype,"width",{get:function(){return this.updateText(!0),Math.abs(this.scale.x)*this._texture.orig.width},set:function(t){this.updateText(!0);var e=(0,h._S)(this.scale.x)||1;this.scale.x=e*t/this._texture.orig.width,this._width=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.updateText(!0),Math.abs(this.scale.y)*this._texture.orig.height},set:function(t){this.updateText(!0);var e=(0,h._S)(this.scale.y)||1;this.scale.y=e*t/this._texture.orig.height,this._height=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"style",{get:function(){return this._style},set:function(t){t=t||{},this._style=t instanceof G?t:new G(t),this.localStyleID=-1,this.dirty=!0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"text",{get:function(){return this._text},set:function(t){t=String(null==t?"":t),this._text!==t&&(this._text=t,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"resolution",{get:function(){return this._resolution},set:function(t){this._autoResolution=!1,this._resolution!==t&&(this._resolution=t,this.dirty=!0)},enumerable:!1,configurable:!0}),e.nextLineHeightBehavior=!1,e.experimentalLetterSpacing=!1,e}(W.k);o.W.UPLOADS_PER_FRAME=4;var $=function(t,e){return $=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},$(t,e)},tt=function(){function t(t){this.maxItemsPerFrame=t,this.itemsLeft=0}return t.prototype.beginFrame=function(){this.itemsLeft=this.maxItemsPerFrame},t.prototype.allowedToUpload=function(){return this.itemsLeft-- >0},t}();function et(t,e){var i=!1;if(t&&t._textures&&t._textures.length)for(var r=0;r<t._textures.length;r++)if(t._textures[r]instanceof s.gP){var n=t._textures[r].baseTexture;-1===e.indexOf(n)&&(e.push(n),i=!0)}return i}function it(t,e){if(t.baseTexture instanceof s.t5){var i=t.baseTexture;return-1===e.indexOf(i)&&e.push(i),!0}return!1}function rt(t,e){if(t._texture&&t._texture instanceof s.gP){var i=t._texture.baseTexture;return-1===e.indexOf(i)&&e.push(i),!0}return!1}function nt(t,e){return e instanceof Q&&(e.updateText(!0),!0)}function ot(t,e){if(e instanceof G){var i=e.toFontString();return J.measureFont(i),!0}return!1}function st(t,e){if(t instanceof Q){-1===e.indexOf(t.style)&&e.push(t.style),-1===e.indexOf(t)&&e.push(t);var i=t._texture.baseTexture;return-1===e.indexOf(i)&&e.push(i),!0}return!1}function at(t,e){return t instanceof G&&(-1===e.indexOf(t)&&e.push(t),!0)}var ht=function(){function t(t){var e=this;this.limiter=new tt(o.W.UPLOADS_PER_FRAME),this.renderer=t,this.uploadHookHelper=null,this.queue=[],this.addHooks=[],this.uploadHooks=[],this.completes=[],this.ticking=!1,this.delayedTick=function(){e.queue&&e.prepareItems()},this.registerFindHook(st),this.registerFindHook(at),this.registerFindHook(et),this.registerFindHook(it),this.registerFindHook(rt),this.registerUploadHook(nt),this.registerUploadHook(ot)}return t.prototype.upload=function(t,e){"function"==typeof t&&(e=t,t=null),t&&this.add(t),this.queue.length?(e&&this.completes.push(e),this.ticking||(this.ticking=!0,F.Rv.system.addOnce(this.tick,this,F.dQ.UTILITY))):e&&e()},t.prototype.tick=function(){setTimeout(this.delayedTick,0)},t.prototype.prepareItems=function(){for(this.limiter.beginFrame();this.queue.length&&this.limiter.allowedToUpload();){var t=this.queue[0],e=!1;if(t&&!t._destroyed)for(var i=0,r=this.uploadHooks.length;i<r;i++)if(this.uploadHooks[i](this.uploadHookHelper,t)){this.queue.shift(),e=!0;break}e||this.queue.shift()}if(this.queue.length)F.Rv.system.addOnce(this.tick,this,F.dQ.UTILITY);else{this.ticking=!1;var n=this.completes.slice(0);for(this.completes.length=0,i=0,r=n.length;i<r;i++)n[i]()}},t.prototype.registerFindHook=function(t){return t&&this.addHooks.push(t),this},t.prototype.registerUploadHook=function(t){return t&&this.uploadHooks.push(t),this},t.prototype.add=function(t){for(var e=0,i=this.addHooks.length;e<i&&!this.addHooks[e](t,this.queue);e++);if(t instanceof u.mc)for(e=t.children.length-1;e>=0;e--)this.add(t.children[e]);return this},t.prototype.destroy=function(){this.ticking&&F.Rv.system.remove(this.tick,this),this.ticking=!1,this.addHooks=null,this.uploadHooks=null,this.renderer=null,this.completes=null,this.queue=null,this.limiter=null,this.uploadHookHelper=null},t}();function lt(t,e){return e instanceof s.t5&&(e._glTextures[t.CONTEXT_UID]||t.texture.bind(e),!0)}function ut(t,e){if(!(e instanceof U))return!1;var i=e.geometry;e.finishPoly(),i.updateBatches();for(var r=i.batches,n=0;n<r.length;n++){var o=r[n].style.texture;o&&lt(t,o.baseTexture)}return i.batchable||t.geometry.bind(i,e._resolveDirectShader(t)),!0}function ct(t,e){return t instanceof U&&(e.push(t),!0)}var pt=function(t){function e(e){var i=t.call(this,e)||this;return i.uploadHookHelper=i.renderer,i.registerFindHook(ct),i.registerUploadHook(lt),i.registerUploadHook(ut),i}return function(t,e){function i(){this.constructor=t}$(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}(e,t),e}(ht);!function(){function t(t){this.maxMilliseconds=t,this.frameStart=0}t.prototype.beginFrame=function(){this.frameStart=Date.now()},t.prototype.allowedToUpload=function(){return Date.now()-this.frameStart<this.maxMilliseconds}}()},49:(t,e,i)=>{i.d(e,{A:()=>h});var r=i(185),n=i(592),o=i(699),s=i(561),a=function(){function t(t,e,i){void 0===i&&(i=null),this._texture=t instanceof n.gP?t:null,this.baseTexture=t instanceof n.t5?t:this._texture.baseTexture,this.textures={},this.animations={},this.data=e;var r=this.baseTexture.resource;this.resolution=this._updateResolution(i||(r?r.url:null)),this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}return t.prototype._updateResolution=function(t){void 0===t&&(t=null);var e=this.data.meta.scale,i=(0,o.v5)(t,null);return null===i&&(i=void 0!==e?parseFloat(e):1),1!==i&&this.baseTexture.setResolution(i),i},t.prototype.parse=function(e){this._batchIndex=0,this._callback=e,this._frameKeys.length<=t.BATCH_SIZE?(this._processFrames(0),this._processAnimations(),this._parseComplete()):this._nextBatch()},t.prototype._processFrames=function(e){for(var i=e,o=t.BATCH_SIZE;i-e<o&&i<this._frameKeys.length;){var s=this._frameKeys[i],a=this._frames[s],h=a.frame;if(h){var l,u=null,c=!1!==a.trimmed&&a.sourceSize?a.sourceSize:a.frame,p=new r.M_(0,0,Math.floor(c.w)/this.resolution,Math.floor(c.h)/this.resolution);l=a.rotated?new r.M_(Math.floor(h.x)/this.resolution,Math.floor(h.y)/this.resolution,Math.floor(h.h)/this.resolution,Math.floor(h.w)/this.resolution):new r.M_(Math.floor(h.x)/this.resolution,Math.floor(h.y)/this.resolution,Math.floor(h.w)/this.resolution,Math.floor(h.h)/this.resolution),!1!==a.trimmed&&a.spriteSourceSize&&(u=new r.M_(Math.floor(a.spriteSourceSize.x)/this.resolution,Math.floor(a.spriteSourceSize.y)/this.resolution,Math.floor(h.w)/this.resolution,Math.floor(h.h)/this.resolution)),this.textures[s]=new n.gP(this.baseTexture,l,p,u,a.rotated?2:0,a.anchor),n.gP.addToCache(this.textures[s],s)}i++}},t.prototype._processAnimations=function(){var t=this.data.animations||{};for(var e in t){this.animations[e]=[];for(var i=0;i<t[e].length;i++){var r=t[e][i];this.animations[e].push(this.textures[r])}}},t.prototype._parseComplete=function(){var t=this._callback;this._callback=null,this._batchIndex=0,t.call(this,this.textures)},t.prototype._nextBatch=function(){var e=this;this._processFrames(this._batchIndex*t.BATCH_SIZE),this._batchIndex++,setTimeout((function(){e._batchIndex*t.BATCH_SIZE<e._frameKeys.length?e._nextBatch():(e._processAnimations(),e._parseComplete())}),0)},t.prototype.destroy=function(t){var e;for(var i in void 0===t&&(t=!1),this.textures)this.textures[i].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,t&&(null===(e=this._texture)||void 0===e||e.destroy(),this.baseTexture.destroy()),this._texture=null,this.baseTexture=null},t.BATCH_SIZE=1e3,t}(),h=function(){function t(){}return t.use=function(e,i){var r,n,h=this,l=e.name+"_image";if(e.data&&e.type===s.Sd.TYPE.JSON&&e.data.frames&&!h.resources[l]){var u=null===(n=null===(r=e.data)||void 0===r?void 0:r.meta)||void 0===n?void 0:n.related_multi_packs;if(Array.isArray(u))for(var c=function(t){if("string"!=typeof t)return"continue";var i=t.replace(".json",""),r=o.OZ.resolve(e.url.replace(h.baseUrl,""),t);if(h.resources[i]||Object.values(h.resources).some((function(t){return o.OZ.format(o.OZ.parse(t.url))===r})))return"continue";var n={crossOrigin:e.crossOrigin,loadType:s.Sd.LOAD_TYPE.XHR,xhrType:s.Sd.XHR_RESPONSE_TYPE.JSON,parentResource:e,metadata:e.metadata};h.add(i,r,n)},p=0,d=u;p<d.length;p++)c(d[p]);var f={crossOrigin:e.crossOrigin,metadata:e.metadata.imageMetadata,parentResource:e},g=t.getResourcePath(e,h.baseUrl);h.add(l,g,f,(function(t){if(t.error)i(t.error);else{var r=new a(t.texture,e.data,e.url);r.parse((function(){e.spritesheet=r,e.textures=r.textures,i()}))}}))}else i()},t.getResourcePath=function(t,e){return t.isDataUrl?t.data.meta.image:o.OZ.resolve(t.url.replace(e,""),t.data.meta.image)},t}()}}]);
//# sourceMappingURL=565.bundle.js.map